---
uuid: 428cbaba-1dc2-4887-88dd-ce9ccee4c0b6
title: AWSでElastic IPアドレスを開放していなかったばっかりに損した話
description: AWS使って遊び終わったあと放置していると請求が来るという怖い話
lang: ja
category: techblog
tags:
  - backend
  - aws
created_at: "2022-05-20T18:42:50+00:00"
updated_at: "2022-05-20T18:42:50+00:00"
---

## 何が起こったのか

(2019.10.20の記事です。)

最近クラウドが大流行りなので、ちょっとだけAWS試してみるかと思って試していました。
Elastic IPをとってEC2インスタンスを起動して簡単なPythonのWebアプリを動かして満足していたんです。

遊び終わったので、EC2インスタンスを停止して放置していました。
あまりクレジットカードの請求書とかを見ないので、3，4か月くらい放置していたんですが、なんとなくクレジットカードの請求書を見るとAWSから請求が毎月来ていました。
結論から言うと、Elastic IPを開放していなかったために起こってしまった事故でした。
気を付けていないと謎の請求が来るAWS、皆さんも気を付けてください。

## 請求を見たとき

おかしい、EC2インスタンスは無効にしたはず、と思って請求書を急いで確認しに行きました。
そうすると請求書のElastic Compute Cloudにこんな文字列が...

```
$0.005 per Elastic IP address not attached to a running instance per hour (prorated)
```

## AWSの料金体系の確認

AWSの料金体系は複雑怪奇で知られているようなので、料金説明ページのそれらしい部分を探しました（[EC2の料金説明ページ](https://aws.amazon.com/jp/ec2/pricing/on-demand/)）。

> Elastic IP アドレス
> 実行中のインスタンスに関連付けられた Elastic IP（EIP）アドレスを無料で 1 つ取得できます。追加の EIP をそのインスタンスに関連付ける場合は、追加の EIP 毎に時間当たり（プロラタベース）の料金が請求されます。追加の EIP は Amazon VPC でのみ利用可能です。
> Elastic IP アドレスを効率的に使用するため、これらの IP アドレスが実行中のインスタンスに関連付けられていない場合や、停止しているインスタンスやアタッチされていないネットワークインターフェイスに関連付けられている場合は、時間毎に小額の料金をご請求します。Bring Your Own IP を使用して AWS に持ち込んだ IP アドレスプレフィックスから作成する Elastic IP アドレスは無料です。

**重要なのはこの部分。停止しているインスタンスにElastic IPを関連付けていると請求が来るらしい。**インスタンスを停止しているとむしろ請求が来るタイプでした。

> Elastic IP アドレスを効率的に使用するため、これらの IP アドレスが実行中のインスタンスに関連付けられていない場合や、停止しているインスタンスやアタッチされていないネットワークインターフェイスに関連付けられている場合は、時間毎に小額の料金をご請求します。

## Elastic IPアドレスの解放

1. AWSコンソールでEC2を選択
2. EC2インスタンスを起動していたRegionに移動
3. Elastic IPを選択
4. ナビのアクションからIPアドレスの解放を選択

という手順で解放しました。
今解放したので今月分も多少請求されてしまいましたが、きっと来月からは謎の請求がなくなってくれるはずです。

## 今日の教訓

AWSを利用するならちゃんと料金体系を読んでおきましょう。読むものが多すぎるからといって読まずにいると損をします。
